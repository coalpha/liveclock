(function(){function e(e,t,n){return function(){return(n||e)[t].apply(e,arguments)}}var t,n,r,a,l,i,u,o,c,s,h,y,v,m,f,b;for(t=dId("enter"),n=dId("month"),r=dId("day"),a=dId("year"),l=dId("sex"),i=dId("submit"),u=["January","February","March","April","May","June","July","August","September","October","November","December"],l.children[2*Math.random()|0].selected=!0,o=123,a.max=(new Date).getFullYear(),a.min=a.max-o,c=function(e,t){var n;return n=d.createElement("option"),n.value=e,n.innerText=t,n},s=function(e,t){e.children[t].selected="selected"},h=0,y=u.length;y>h;++h)v=h,m=u[h],n.appendChild(c(v,m));for(h=1;31>=h;++h)v=h,r.appendChild(c(v,v));birthday.isGood?(s(n,birthday.month()),s(r,birthday.day()-1),a.value=birthday.year()):delete ls.birthday,s(l,function(){switch(ls.sex){case"XX":return 0;case"XY":return 1;default:return delete ls.sex,2*Math.random()|0}}()),f=function(t){return null==t&&(t=a.value),e(/\d{4}/,"test")(t)&&t>=a.min},b=function(){var e;f()?(e=new CDate(a.value,n.value,r.value),e.isGood?(ls.birthday=e.toString(),ls.sex=l.value,w.location=getCwd(location.href)+"/clock"):t.innerText=e.error+" at "+(new Date).toJSON()):a.value=/\d{4}.*/.test(a.value)?a.value.slice(0,4):a.min},i.addEventListener("click",b),d.addEventListener("keyup",function(e){13===e.keyCode&&b()})}).call(this);